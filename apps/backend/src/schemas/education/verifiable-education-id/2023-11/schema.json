{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Verifiable Educational ID",
  "description": "Schema of a Verifiable Educational ID for a natural person participating in the educational use cases",
  "type": "object",
  "allOf": [
    {
      "$ref": "../../../ebsi-attestation/2023-10/schema.json"
    },
    {
      "properties": {
        "credentialSubject": {
          "description": "Defines additional properties on credentialSubject to describe IDs that do not have a substantial level of assurance.",
          "type": "object",
          "properties": {
            "id": {
              "description": "Defines a unique identifier of the credential subject. DID:Key value, generated by the user wallet and associated to the credential holder. Refer specification available at https://api-pilot.ebsi.eu/docs/specs/did-methods/did-method-for-natural-person ",
              "type": "string"
            },
            "identifier": {
              "description": "Defines an alternative identifier for the credential subject and has as value the value of eduPersonPrincipalName attribute of the credential subject within the Home Organization (needs to be globally unique and persistent).",
              "type": "string"
            },
            "schacPersonalUniqueCode": {
              "description": " schacPersonalUniqueCode can have different forms urn:schac:personalUniqueCode:int:esi:<sHO>:<code> (where <sHO> is the Higher Education Institution's schacHomeOrganization) and urn:schac:personalUniqueCode:int:esi:<country-code>:<code> (<code> is a string that uniquely identifies the person).",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "schacPersonalUniqueID": {
              "description": "value is different in different countries, mostly urn:schac:personalUniqueID:<country-code>:<code>.",
              "type": "string"
            },
            "schacHomeOrganization": {
              "description": "Specifies the home organization of the credential subject",
              "type": "string"
            },
            "familyName": {
              "description": "Defines current family name(s) of the credential subject which corresponds to the eduGAIN attribute sn",
              "type": "string"
            },
            "firstName": {
              "description": "Defines current first name(s) of the credential subject which corresponds to the eduGAIN attribute givenName",
              "type": "string"
            },
            "displayName": {
              "description": "The name(s) that should appear in white-pages-like applications",
              "type": "string"
            },
            "dateOfBirth": {
              "description": "Defines date of birth of the credential subject (format: yyyyMMdd)",
              "type": "string",
              "format": "date"
            },
            "commonName": {
              "description": "Defines the first and the family name(s) of the credential subject at the time of their birth",
              "type": "string"
            },
            "mail": {
              "description": "(primary) e-mail address of the credential subject as registered by the educational institution issuing the Verifiable Educational ID",
              "type": "string"
            },
            "eduPersonPrincipalName": {
              "description": "Unique, persistent identifier of the credential subject",
              "type": "string"
            },
            "eduPersonPrimaryAffiliation": {
              "description": "Primary Affiliation within Home Organization ",
              "type": "string"
            },
            "eduPersonAffiliation": {
              "description": "Affiliation within Home Organization. It can contain multiple values such as member, student, employee, faculty, staff, affiliate, alumni, etc.",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "eduPersonScopedAffiliation": {
              "description": "The person's affiliations within Home Organization scoped with the Home Organization",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "eduPersonAssurance": {
              "description": "represents identity assurance profiles (IAPs) https://wiki.refeds.org/display/ASS/REFEDS+Assurance+Framework+ver+1.0",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "id",
            "identifier",
            "eduPersonScopedAffiliation"
          ]
        }
      }
    }
  ]
}